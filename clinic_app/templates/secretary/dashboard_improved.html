{% extends "layout.html" %}
{% block content %}
<div class="container-fluid secretary-dashboard px-3">
    <!-- Accueil et statistiques rapides -->
    <div class="row mb-3">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h2 class="text-primary mb-1">Bienvenue, {{ current_user.username }}</h2>
                    <p class="text-muted mb-0" id="current-date"></p>
                </div>
                <div class="text-end">
                    <span class="badge bg-primary fs-6 px-3 py-2">
                        <i class="fas fa-clock me-1"></i>
                        <span id="current-time"></span>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- الإحصائيات اليومية المحسنة -->
    <div class="row mb-3 dashboard-stats-row">
        <div class="col-xl-2 col-lg-3 col-md-4 col-6 mb-2">
            <div class="card dashboard-card card-patients text-white">
                <div class="card-body">
                    <div>
                        <h6 class="card-title">Patients du jour</h6>
                        <h4 class="mb-0">{{ daily_stats.patients_today or 0 }}</h4>
                    </div>
                    <i class="fas fa-user-plus"></i>
                </div>
            </div>
        </div>
        
        <div class="col-xl-2 col-lg-3 col-md-4 col-6 mb-2">
            <div class="card dashboard-card card-waiting text-white">
                <div class="card-body">
                    <div>
                        <h6 class="card-title">En attente</h6>
                        <h4 class="mb-0">{{ waiting_tickets|length }}</h4>
                    </div>
                    <i class="fas fa-hourglass-half"></i>
                </div>
            </div>
        </div>
        
        <div class="col-xl-2 col-lg-3 col-md-4 col-6 mb-2">
            {% if last_unpaid_visit %}
                <div class="card dashboard-card card-unpaid text-white clickable-card" 
                     onclick="markLastVisitAsPaid({{ last_unpaid_visit.id }})"
                     title="Cliquer pour marquer comme payé"
                     id="unpaid-visit-card-{{ last_unpaid_visit.id }}">
                    <div class="card-body">
                        <div>
                            <h6 class="card-title">Patient non payé</h6>
                            <h4 class="mb-0">
                                {% if last_unpaid_visit.price %}
                                    {{ last_unpaid_visit.price }} <small>DA</small>
                                {% else %}
                                    Non défini
                                {% endif %}
                            </h4>
                            <small class="text-white-75">{{ last_unpaid_visit.patient.full_name }}</small>
                        </div>
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                </div>
            {% else %}
                <div class="card dashboard-card card-revenue text-white">
                    <div class="card-body">
                        <div>
                            <h6 class="card-title">Dernier patient non payé</h6>
                            <h4 class="mb-0">Tous payés</h4>
                            <small class="text-white-75">Paiements à jour</small>
                        </div>
                        <i class="fas fa-check-circle"></i>
                    </div>
                </div>
            {% endif %}
        </div>
        
        <div class="col-xl-2 col-lg-3 col-md-4 col-6 mb-2">
            <div class="card dashboard-card card-pending-payments text-white">
                <div class="card-body">
                    <div>
                        <h6 class="card-title">Paiements en attente</h6>
                        <h4 class="mb-0">{{ total_pending_amount or 0 }} <small>DA</small></h4>
                    </div>
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
            </div>
        </div>

        <div class="col-xl-2 col-lg-3 col-md-4 col-6 mb-2">
            <div class="card dashboard-card card-visits text-white">
                <div class="card-body">
                    <div>
                        <h6 class="card-title">Visites du jour</h6>
                        <h4 class="mb-0">{{ daily_stats.visits_today or 0 }}</h4>
                    </div>
                    <i class="fas fa-stethoscope"></i>
                </div>
            </div>
        </div>

        <div class="col-xl-2 col-lg-3 col-md-4 col-6 mb-2">
            <div class="card dashboard-card card-payments text-white">
                <div class="card-body">
                    <div>
                        <h6 class="card-title">Paiements du jour</h6>
                        <h4 class="mb-0">{{ daily_stats.total_paid_today or 0 }} <small>DA</small></h4>
                        <small class="text-white-75">{{ daily_stats.paid_visits_count or 0 }} visites</small>
                    </div>
                    <i class="fas fa-money-bill-wave"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Actions rapides complètes -->
    <div class="row">
        <div class="col-12">
            <div class="card shadow-lg border-0 actions-card">
                <div class="card-header bg-gradient-primary text-white border-0">
                    <h5 class="mb-0 fw-bold">
                        <i class="fas fa-bolt me-2"></i>Toutes les tâches et permissions
                    </h5>
                </div>
                <div class="card-body p-4">
                    <!-- Section Gestion des patients -->
                    <div class="action-section mb-4">
                        <div class="section-header mb-3">
                            <h6 class="text-primary fw-bold border-bottom border-primary pb-2 mb-3">
                                <i class="fas fa-users me-2"></i>Gestion des patients
                            </h6>
                        </div>
                        <div class="row g-2">
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <a href="{{ url_for('secretary.new_patient') }}" class="btn btn-outline-primary w-100 action-btn d-flex flex-column align-items-center py-3">
                                    <i class="fas fa-user-plus fa-lg mb-2 text-primary"></i>
                                    <span class="small fw-medium">Nouveau patient</span>
                                </a>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <a href="{{ url_for('secretary.list_patients') }}" class="btn btn-outline-success w-100 action-btn d-flex flex-column align-items-center py-3">
                                    <i class="fas fa-users fa-lg mb-2 text-success"></i>
                                    <span class="small fw-medium">Liste des patients</span>
                                </a>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <a href="{{ url_for('secretary.waiting_queue') }}" class="btn btn-outline-warning w-100 action-btn d-flex flex-column align-items-center py-3 position-relative">
                                    <i class="fas fa-list-alt fa-lg mb-2 text-warning"></i>
                                    <span class="small fw-medium">Liste d'attente</span>
                                    {% if waiting_tickets|length > 0 %}
                                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning text-dark">
                                            {{ waiting_tickets|length }}
                                        </span>
                                    {% endif %}
                                </a>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <button type="button" class="btn btn-outline-info w-100 action-btn d-flex flex-column align-items-center py-3" onclick="searchPatient()">
                                    <i class="fas fa-search fa-lg mb-2 text-info"></i>
                                    <span class="small fw-medium">Rechercher patient</span>
                                </button>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <a href="{{ url_for('secretary.create_ticket_page') }}" class="btn btn-outline-success w-100 action-btn d-flex flex-column align-items-center py-3">
                                    <i class="fas fa-ticket-alt fa-lg mb-2 text-success"></i>
                                    <span class="small fw-medium">Ticket rapide</span>
                                </a>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <a href="{{ url_for('secretary.create_appointment') }}" class="btn btn-outline-primary w-100 action-btn d-flex flex-column align-items-center py-3">
                                    <i class="fas fa-calendar-plus fa-lg mb-2 text-primary"></i>
                                    <span class="small fw-medium">Nouveau RDV</span>
                                </a>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <a href="{{ url_for('secretary.upcoming_appointments') }}" class="btn btn-outline-warning w-100 action-btn d-flex flex-column align-items-center py-3">
                                    <i class="fas fa-phone fa-lg mb-2 text-warning"></i>
                                    <span class="small fw-medium">Appeler RDV</span>
                                </a>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <a href="{{ url_for('secretary.emergency_ticket') }}" class="btn btn-outline-danger w-100 action-btn d-flex flex-column align-items-center py-3 emergency-btn">
                                    <i class="fas fa-exclamation-triangle fa-lg mb-2 text-danger"></i>
                                    <span class="small fw-medium">Ticket d'urgence</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Section Gestion des paiements -->
                    <div class="action-section mb-4">
                        <div class="section-header mb-3">
                            <h6 class="text-danger fw-bold border-bottom border-danger pb-2 mb-3">
                                <i class="fas fa-money-bill-wave me-2"></i>Gestion des paiements
                            </h6>
                        </div>
                        <div class="row g-2">
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <a href="{{ url_for('secretary.payments') }}" class="btn btn-outline-danger w-100 action-btn d-flex flex-column align-items-center py-3 position-relative">
                                    <i class="fas fa-money-bill-wave fa-lg mb-2 text-danger"></i>
                                    <span class="small fw-medium">Gérer paiements</span>
                                    {% if pending_payments|length > 0 %}
                                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                            {{ pending_payments|length }}
                                        </span>
                                    {% endif %}
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Section Rapports et statistiques -->
                    <div class="action-section mb-4">
                        <div class="section-header mb-3">
                            <h6 class="text-success fw-bold border-bottom border-success pb-2 mb-3">
                                <i class="fas fa-chart-line me-2"></i>Rapports et statistiques
                            </h6>
                        </div>
                        <div class="row g-2">
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <button type="button" class="btn btn-outline-success w-100 action-btn d-flex flex-column align-items-center py-3" onclick="showDailyReport()">
                                    <i class="fas fa-chart-bar fa-lg mb-2 text-success"></i>
                                    <span class="small fw-medium">Rapport quotidien</span>
                                </button>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <button type="button" class="btn btn-outline-info w-100 action-btn d-flex flex-column align-items-center py-3" onclick="showPatientStats()">
                                    <i class="fas fa-users fa-lg mb-2 text-info"></i>
                                    <span class="small fw-medium">Stats patients</span>
                                </button>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <button type="button" class="btn btn-outline-warning w-100 action-btn d-flex flex-column align-items-center py-3" onclick="showPaymentReport()">
                                    <i class="fas fa-money-check-alt fa-lg mb-2 text-warning"></i>
                                    <span class="small fw-medium">Rapport paiements</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Section Outils supplémentaires -->
                    <div class="action-section">
                        <div class="section-header mb-3">
                            <h6 class="text-secondary fw-bold border-bottom border-secondary pb-2 mb-3">
                                <i class="fas fa-tools me-2"></i>Outils supplémentaires
                            </h6>
                        </div>
                        <div class="row g-2">
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <button type="button" class="btn btn-outline-dark w-100 action-btn d-flex flex-column align-items-center py-3" onclick="location.reload()">
                                    <i class="fas fa-sync-alt fa-lg mb-2 text-dark"></i>
                                    <span class="small fw-medium">Actualiser</span>
                                </button>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <button type="button" class="btn btn-outline-primary w-100 action-btn d-flex flex-column align-items-center py-3" onclick="printDashboard()">
                                    <i class="fas fa-print fa-lg mb-2 text-primary"></i>
                                    <span class="small fw-medium">Imprimer</span>
                                </button>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <button type="button" class="btn btn-outline-info w-100 action-btn d-flex flex-column align-items-center py-3" onclick="exportData()">
                                    <i class="fas fa-download fa-lg mb-2 text-info"></i>
                                    <span class="small fw-medium">Exporter</span>
                                </button>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                                <button type="button" class="btn btn-outline-warning w-100 action-btn d-flex flex-column align-items-center py-3" onclick="showHelp()">
                                    <i class="fas fa-question-circle fa-lg mb-2 text-warning"></i>
                                    <span class="small fw-medium">Aide</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<style>
.bg-gradient-primary {
    background: linear-gradient(45deg, #007bff, #0056b3);
}
.bg-gradient-success {
    background: linear-gradient(45deg, #28a745, #1e7e34);
}
.bg-gradient-warning {
    background: linear-gradient(45deg, #ffc107, #e0a800);
}
.bg-gradient-danger {
    background: linear-gradient(45deg, #dc3545, #c82333);
}
.bg-gradient-info {
    background: linear-gradient(45deg, #17a2b8, #138496);
}
.bg-gradient-secondary {
    background: linear-gradient(45deg, #6c757d, #545b62);
}
.bg-gradient-orange {
    background: linear-gradient(45deg, #e67e22, #d35400);
}
.avatar-circle {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: bold;
}
.card {
    transition: transform 0.2s;
}
.card:hover {
    transform: translateY(-2px);
}

.clickable-card {
    transition: all 0.3s ease;
}

.clickable-card:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    border: 2px solid rgba(255,255,255,0.3);
}

.clickable-card:active {
    transform: translateY(-1px) scale(1.01);
}
.btn:hover {
    transform: translateY(-1px);
}

/* تحسينات للشاشات الصغيرة */
@media (max-width: 768px) {
    .container-fluid {
        padding-left: 10px;
        padding-right: 10px;
    }
    .card-body {
        padding: 1rem;
    }
    .btn-sm {
        font-size: 0.8rem;
        padding: 0.5rem;
    }
    .row.mb-3 {
        margin-bottom: 1rem !important;
    }
    h6.border-bottom {
        font-size: 0.9rem;
    }
}

/* تحسينات للشاشات الكبيرة */
@media (min-width: 1200px) {
    .container-fluid {
        max-width: 1400px;
        margin: 0 auto;
    }
}

/* تحسينات للطباعة */
@media print {
    .btn, .card-footer, #current-time, .position-absolute {
        display: none !important;
    }
    .card {
        break-inside: avoid;
        box-shadow: none !important;
        border: 1px solid #ddd !important;
    }
    .bg-gradient-primary, .bg-gradient-success, .bg-gradient-warning, 
    .bg-gradient-danger, .bg-gradient-info, .bg-gradient-secondary {
        background: #f8f9fa !important;
        color: #333 !important;
    }
}

/* تحسينات إضافية */
.card-header h6 {
    font-weight: 600;
}

.btn-sm .small {
    font-size: 0.75rem;
    line-height: 1.2;
}

.border-bottom {
    border-color: rgba(0,0,0,0.1) !important;
}

/* تأثيرات تفاعلية محسنة */
.btn:focus {
    box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
}

.card-body .row .col-6 {
    padding: 0.5rem;
}

/* تحسين المسافات */
.mb-3 {
    margin-bottom: 1rem !important;
}

.py-2 {
    padding-top: 0.75rem !important;
    padding-bottom: 0.75rem !important;
}

/* تحسين الألوان */
.text-primary { color: #0d6efd !important; }
.text-success { color: #198754 !important; }
.text-warning { color: #ffc107 !important; }
.text-danger { color: #dc3545 !important; }
.text-info { color: #0dcaf0 !important; }

/* تحسين الخطوط */
.small {
    font-size: 0.8rem;
    font-weight: 500;
}

/* تحسين التخطيط */
.row {
    margin-left: -0.5rem;
    margin-right: -0.5rem;
}

.row > * {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
}
</style>
{% endblock content %}

{% block scripts %}
<script>
// تحديث الوقت الحالي
function updateDateTime() {
    const now = new Date();
    
    // عرض التاريخ بالفرنسية
    const dateString = now.toLocaleDateString('fr-FR', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
    document.getElementById('current-date').textContent = dateString;
    
    // عرض الوقت
    const timeString = now.toLocaleTimeString('fr-FR', {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
    });
    document.getElementById('current-time').textContent = timeString;
}

// تحديث الوقت كل ثانية
setInterval(updateDateTime, 1000);
updateDateTime();

// تحديث الصفحة كل دقيقة للحصول على آخر التحديثات
setInterval(function() {
    location.reload();
}, 60000);

// إضافة تأثيرات تفاعلية
document.addEventListener('DOMContentLoaded', function() {
    // تأثير hover للبطاقات
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 8px 25px rgba(0,0,0,0.15)';
        });
        card.addEventListener('mouseleave', function() {
            this.style.boxShadow = '';
        });
    });

    // تأثير hover للأزرار
    const buttons = document.querySelectorAll('.btn');
    buttons.forEach(button => {
        button.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 4px 15px rgba(0,0,0,0.1)';
        });
        button.addEventListener('mouseleave', function() {
            this.style.boxShadow = '';
        });
    });
});

// إضافة تأثير loading للأزرار عند النقر
document.querySelectorAll('a.btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
        if (!this.target || this.target !== '_blank') {
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> جاري التحميل...';
        }
    });
});

// وظائف الإجراءات السريعة
function searchPatient() {
    const patientName = prompt('Entrez le nom du patient ou le numéro de téléphone:');
    if (patientName && patientName.trim()) {
        window.location.href = `{{ url_for('secretary.list_patients') }}?search=${encodeURIComponent(patientName.trim())}`;
    }
}

function createTicketQuick() {
    const patientId = prompt('أدخل رقم المريض أو ابحث عنه أولاً:');
    if (patientId && patientId.trim() && !isNaN(patientId)) {
        window.location.href = `{{ url_for('secretary.create_ticket', patient_id=0) }}`.replace('0', patientId);
    } else {
        alert('يرجى إدخال رقم مريض صحيح أو استخدام البحث أولاً');
    }
}

function showDailyReport() {
    const reportWindow = window.open('', '_blank', 'width=800,height=600');
    reportWindow.document.write(`
        <html dir="rtl">
        <head>
            <title>التقرير اليومي</title>
            <style>
                body { font-family: Arial, sans-serif; margin: 20px; }
                .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
                .stats { display: flex; justify-content: space-around; margin: 20px 0; }
                .stat-box { text-align: center; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
                .stat-number { font-size: 2em; font-weight: bold; color: #007bff; }
            </style>
        </head>
        <body>
            <div class="header">
                <h1>التقرير اليومي</h1>
                <p>التاريخ: {{ get_arabic_date() }}</p>
            </div>
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-number">{{ daily_stats.patients_today or 0 }}</div>
                    <div>Nouveaux patients اليوم</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">{{ waiting_tickets|length or 0 }}</div>
                    <div>مرضى En attente</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">{{ daily_stats.visits_today or 0 }}</div>
                    <div>Visites du jour</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">{{ daily_stats.total_paid_today or 0 }} DA</div>
                    <div>Paiements du jour</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">{{ total_pending_amount or 0 }} DA</div>
                    <div>Paiements en attente</div>
                </div>
            </div>
            <button onclick="window.print()" style="margin: 20px auto; display: block; padding: 10px 20px;">طباعة</button>
        </body>
        </html>
    `);
}

function showPatientStats() {
    alert(`Statistiques des patients:
    
Total des patients: {{ daily_stats.total_patients or 0 }}
Nouveaux patients aujourd'hui: {{ daily_stats.patients_today or 0 }}
Patients en attente: {{ waiting_tickets|length or 0 }}
Visites du jour: {{ daily_stats.visits_today or 0 }}`);
}

function showPaymentReport() {
    alert(`Rapport des paiements:
    
Paiements aujourd'hui: {{ daily_stats.total_paid_today or 0 }} DA ({{ daily_stats.paid_visits_count or 0 }} visites)
Nombre de paiements en attente: {{ pending_payments|length or 0 }}
Montant total en attente: {{ total_pending_amount or 0 }} DA
    
Pour plus de détails, allez à la page de gestion des paiements.`);
}

function printDashboard() {
    window.print();
}

function exportData() {
    alert('La fonctionnalité d\'exportation des données sera bientôt disponible');
}

function markLastVisitAsPaid(visitId) {
    if (confirm('هل أنت متأكد من تحويل حالة الدفع إلى مدفوع؟')) {
        // تغيير لون الكارت فوراً للإشارة للتحديث
        const card = document.getElementById(`unpaid-visit-card-${visitId}`);
        if (card) {
            card.classList.remove('card-unpaid');
            card.classList.add('card-revenue');
            card.innerHTML = `
                <div class="card-body">
                    <div>
                        <h6 class="card-title">جاري التحديث...</h6>
                        <h4 class="mb-0">
                            <i class="fas fa-spinner fa-spin"></i>
                        </h4>
                        <small class="text-white-75">يرجى الانتظار</small>
                    </div>
                    <i class="fas fa-check-circle"></i>
                </div>
            `;
            card.style.cursor = 'default';
            card.onclick = null;
        }
        
        // إرسال الطلب للخادم
        setTimeout(() => {
            try {
                window.location.href = `{{ url_for('secretary.mark_visit_as_paid_get', visit_id=0) }}`.replace('0', visitId);
            } catch (error) {
                console.error('خطأ في التوجيه:', error);
                alert('حدث خطأ، يرجى المحاولة مرة أخرى');
                location.reload();
            }
        }, 1000);
    }
}

function showHelp() {
    const helpWindow = window.open('', '_blank', 'width=600,height=500');
    helpWindow.document.write(`
        <html dir="rtl">
        <head>
            <title>المساعدة</title>
            <style>
                body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
                .help-section { margin-bottom: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
                .help-title { color: #007bff; font-weight: bold; margin-bottom: 10px; }
            </style>
        </head>
        <body>
            <h1>دليل استخدام لوحة تحكم السكرتير</h1>
            
            <div class="help-section">
                <div class="help-title">Gestion des patients:</div>
                <ul>
                    <li>Nouveau patient: Pour ajouter un nouveau patient au système</li>
                    <li>Liste des patients: Pour afficher tous les patients enregistrés</li>
                    <li>Rechercher patient: Pour rechercher rapidement un patient</li>
                </ul>
            </div>
            
            <div class="help-section">
                <div class="help-title">Gestion de la liste d'attente:</div>
                <ul>
                    <li>Liste d'attente: Pour gérer les patients en attente</li>
                    <li>Ticket rapide: Pour ajouter un patient à la liste d'attente</li>
                </ul>
            </div>
            
            <div class="help-section">
                <div class="help-title">Gestion des paiements:</div>
                <ul>
                    <li>Gérer paiements: Pour suivre les paiements en attente</li>
                    <li>Mettre à jour le statut de paiement des visites</li>
                </ul>
            </div>
        </body>
        </html>
    `);
}
</script>
{% endblock %}